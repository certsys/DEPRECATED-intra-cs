<!-- Wrapper-->
<div id="wrapper" class="top-navigation">

    <!-- Navigation -->
    <div ng-include="'views/common/navigation.html'"></div>


    <!-- Page wraper -->
    <!-- ng-class with current state name give you the ability to extended customization your view -->
    <div id="page-wrapper" class="gray-bg {{$state.current.name}}" ng-controller="gerenciar_curso">


        <div class="row wrapper border-bottom white-bg page-heading">

            <i ng-if="loading" class="centered fa fa-spinner fa-pulse fa-5x fa-fw"></i>

            <div class="col-sm-4">
                <h2>{{title}}</h2>
            </div>
        </div>


        <div class="row">
            <div class="col-lg-9">
                <div class="wrapper wrapper-content animated fadeInRight">
                    <div class="ibox">
                        <div class="ibox-content">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="m-b-md">

                                        <h2>{{curso.nome}}</h2>
                                    </div>
                                    <dl class="dl-horizontal">
                                        <dt>Status:</dt>
                                        <dd><span class="label label-primary">Active</span></dd>
                                    </dl>
                                </div>

                            </div>


                            <div class="row">
                                <div class="col-lg-5">
                                    <dl class="dl-horizontal">
                                        <dt>Instrutor:</dt>
                                        <dd>{{instrutor.nome}}</dd>
                                        <dt>Local:</dt>
                                        <dd>{{curso.local}}</dd>
                                        <dt>Data do Curso:</dt>
                                        <dd>{{dataInicio}}</dd>
                                        <dt>Limite de Inscrição:</dt>
                                        <dd>{{dataLimite}}</dd>
                                        <dt>Número de Inscritos:</dt>
                                        <dd>{{curso.inscritos.length}}</dd>
                                        <dt>Presentes:</dt>
                                        <dd>{{presentes}}</dd>
                                    </dl>
                                </div>
                                <div class="col-lg-7" id="cluster_info">
                                    <dl class="dl-horizontal">

                                        <dt>Carga do Curso:</dt>
                                        <dd>{{curso.carga_horaria}} horas</dd>
                                        <dt>Criado em:</dt>
                                        <dd>{{dataCriacao}}</dd>
                                        <dt>Participantes:</dt>
                                        <dd class="project-people">
                                            <a ng-repeat="participante in participantes track by $index" ng-click="goToPerfil(participante)"><img alt="image" class="img-circle"
                                                            src="{{participante.imagem}}"></a>
                                        </dd>
                                    </dl>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-12">
                                    <dl class="dl-horizontal">
                                        <dt>Presentes:</dt>
                                        <dd>
                                            <div class="progress progress-striped active m-b-sm">
                                                <div style="width:{{presentes/curso.inscritos.length*100}}%;" class="progress-bar"></div>
                                            </div>
                                            <small>Curso teve <strong>{{presentes/curso.inscritos.length*100}}%</strong> de presença.
                                            </small>
                                        </dd>
                                    </dl>
                                </div>
                            </div>
                            <div class="row m-t-sm">
                                <div class="col-lg-12">
                                    <div class="panel blank-panel ui-tab">

                                        <tabset>
                                            <tab heading="Lista de Presença" active="tab.active" class="dsads">
                                                <div class="feed-activity-list">
                                                    <div class="form-group">

                                                        <div class="feed-element" ng-repeat="inscrito in inscritos">
                                                            <div>
                                                                <input ng-click="marcarPresenca(curso, inscrito)" class="pull-left"
                                                                       style="width:40px; height:20px;" icheck
                                                                       type="checkbox" ng-checked="conferirPresenca(curso, inscrito)">
                                                                <div style="marging:10px;">
                                                                    <a href="" class="pull-left">
                                                                        <img alt="image" class="img-circle"
                                                                             src="{{inscrito.imagem}}">
                                                                    </a>
                                                                </div>
                                                                <div class="media-body ">
                                                                    <strong>{{inscrito.nome}}</strong> se inscreveu no curso
                                                                    <strong>{{curso.nome}}</strong><br>
                                                                    <small class="text-muted">Inscrito: {{getDataInscricao(curso, inscrito) | date:'dd/MM/yyyy HH:mm'}}</small>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </tab>


                                            <tab heading="Informações e Arquivos do Curso">


                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <div class="ibox float-e-margins">
                                                            <h2>
                                                                {{curso.nome}}<br/>
                                                            </h2>
                                                            <p><strong>
                                                                <small>{{instrutor.nome}}</small>
                                                            </strong></p>
                                                            <h3>
                                                                {{curso.descricao}}
                                                            </h3>
                                                        </div>


                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <div ng-repeat="file in curso.arquivos"
                                                                     class="file-box">
                                                                    <div class="file">
                                                                        <a href="">
                                                                            <span class="corner"></span>
                                                                            <div class="icon">
                                                                                <i class="fa fa-file"></i>
                                                                            </div>
                                                                            <div class="file-name">
                                                                                {{file.nome}}
                                                                                <br/>
                                                                                <small>Adicionado: Jan 11, 2016</small>
                                                                            </div>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <form>
                                                                    <div>
                                                                        <input type="file" file-model="myFile" ng-click="pressionado()" />
                                                                        <div ng-if="apertei">
                                                                            <br>
                                                                            <button class="btn btn-lg btn-primary"
                                                                                    ng-click="uploadFile()">Enviar Arquivo
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </tab>
                                        </tabset>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="wrapper wrapper-content animated fadeInRight">
                    <div class="ibox float-e-margins">
                        <div class="ibox-content">
                            <div class="hr-line-dashed"></div>
                            <h4>
                                <small>Instrutor:</small>
                                <br> {{instrutor.nome}}
                            </h4>
                            <div class="hr-line-dashed"></div>
                            <img ng-src="{{instrutor.imagem}}" class="img-circle img-responsive">
                            <br/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
